<div class="h-screen w-full flex flex-col md:flex-row">

  <div class="hidden md:block md:w-1/2 xl:w-2/3">
    <img
      src="/bg_login.png"
      alt="Background Recuperação de senha"
      class="object-cover h-full w-full"
    >
  </div>

  <div class="p-2 lg:p-4 h-full w-full md:w-1/2 xl:w-1/3 flex flex-col items-center justify-center relative">
    
    <a
        routerLink="/login"
        class="absolute top-6 left-6 flex items-center text-gray-500 hover:text-gray-900 transition-colors cursor-pointer"
    >
        <mat-icon class="mr-1 text-sm leading-none">arrow_back</mat-icon>
        <span class="text-sm font-medium">Voltar</span>
    </a>

    <app-logo cssClass="size-40"></app-logo>

      <section class="w-full flex flex-col items-center justify-center p-4">
        @if (!emailSent()) {
            
            <div class="flex flex-col gap-2 items-center py-4">
                <h1 class="text-2xl font-bold">
                    Recuperação de senha
                </h1>
                <p class="text-gray-500 text-center">
                    Digite seu e-mail para enviarmos o link de recuperação.
                </p>
            </div>

            <form
                [formGroup]="form"
                (ngSubmit)="onSubmit()"
                class="flex flex-col gap-2 w-full py-4"
            >
                <app-form-input
                formControlName="email"
                type="email"
                label="E-mail*"
                placeholder="Digite o e-mail"
                errorMessage="E-mail inválido"
                />

                <button
                    class="w-full"
                    matButton="filled"
                    type="submit"
                    [disabled]="loadingRequest() || !form.valid"
                >
                    <span class="text-lg font-semibold">
                        @if(loadingRequest()) {
                            Enviando...
                        } @else {
                            Receber link
                        }
                    </span>
                </button>
            </form>

        } @else {

            <div class="flex flex-col items-center justify-center text-center">
            <div
                class="mb-6 size-20 rounded-full bg-green-100 inline-flex items-center justify-center"
            >
                <mat-icon class="text-green-600"> check_circle </mat-icon>
            </div>
            <h1 class="text-2xl font-bold text-gray-900 mb-3">E-mail enviado!</h1>
            <p class="text-gray-600 mb-8 leading-relaxed text-sm">
                Confira sua caixa de entrada e clique no link para criar uma nova
                senha.
            </p>
            <button
                (click)="goBackToLogin()"
                class="w-full rounded-full bg-[#C81E71] py-3 px-4 text-base font-bold text-white shadow-sm transition-all hover:bg-[#A9125B] hover:shadow-md focus:outline-none focus:ring-2 focus:ring-[#C81E71] focus:ring-offset-2 cursor-pointer"
            >
                Voltar para login
            </button>
            </div>
            
        }
      </section>
  </div>
</div>

